---
import { Image } from 'astro:assets';
import { Icon } from 'astro-icon/components';
import featureImage1 from '../assets/feature-1.svg';
import featureImage2 from '../assets/feature-2.svg';
import featureImage3 from '../assets/feature-3.svg';
import featureImage4 from '../assets/feature-4.svg';

const features = [
  {
    title: "Donaciones",
    description: "Procesamos donaciones de manera eficiente y transparente, garantizando que cada contribución llegue a su destino final.",
    icon: "ph:heart-duotone",
    image: featureImage1,
  },
  {
    title: "Aportes",
    description: "Gestionamos aportes con trazabilidad completa y reportes en tiempo real para maximizar el impacto.",
    icon: "ph:currency-dollar-duotone",
    image: featureImage2,
  },
  {
    title: "Cobros sociales",
    description: "Optimizamos cobros sociales a bajo costo con automatización y análisis predictivo.",
    icon: "ph:users-three-duotone",
    image: featureImage3,
  },
  {
    title: "Venta de mercadería",
    description: "Facilitamos la venta de mercadería en contexto social con herramientas especializadas.",
    icon: "ph:shopping-bag-duotone",
    image: featureImage4,
  },
];
---

<section class="py-20 bg-gradient-to-b from-white to-donaya-gray relative overflow-hidden">
  <!-- Subtle background pattern with parallax effect -->
  <div class="absolute inset-0 opacity-5 parallax" data-speed="0.1">
    <div class="absolute inset-0 bg-repeat" style="background-image: url('/grid-pattern.svg');"></div>
  </div>
  
  <div class="container-custom relative">
    <div class="text-center max-w-3xl mx-auto">
      <h2 class="animate-on-scroll delay-0 text-3xl md:text-4xl font-bold">
        Optimizamos cualquier recepción de fondos
      </h2>
      <p class="animate-on-scroll delay-1 mt-4 text-xl text-gray-600">
        No se trata solo de recibir dinero, sino de dar más fuerza a las causas
      </p>
    </div>
    
    <div class="mt-16 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
      {features.map((feature, index) => (
        <div class={`feature-card animate-on-scroll delay-${index + 2} group h-full flex flex-col`}>
          <!-- Header with icon and title side by side -->
          <div class="flex items-center gap-4 mb-4">
            <div class="h-12 w-12 rounded-lg bg-gradient-to-r from-donaya-turquoise to-donaya-orange flex items-center justify-center text-white transition-transform duration-300 group-hover:scale-110">
              <Icon name={feature.icon} class="h-6 w-6 transition-transform duration-300 group-hover:rotate-12" />
            </div>
            <h3 class="text-xl font-semibold transition-colors duration-300 group-hover:text-donaya-turquoise">{feature.title}</h3>
          </div>
          
          <!-- Description -->
          <p class="text-gray-600 mb-6 flex-grow">{feature.description}</p>
          
          <!-- SVG Image at the bottom -->
          <div class="hover-zoom rounded-lg overflow-hidden mt-auto">
            <Image 
              src={feature.image} 
              alt={feature.title}
              class="w-full h-auto rounded-lg transition-all duration-500"
              width={300}
              height={200}
            />
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
